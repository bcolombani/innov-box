<link rel='import' href='../bower_components/iron-ajax/iron-ajax.html'>
<link rel='import' href='../bower_components/paper-button/paper-button.html'>
<link rel='import' href='../bower_components/paper-input/paper-input.html'>


<dom-module id='innovbox-main'>
  <template>
    <paper-input id='ideaText' label='Ecrivez votre id&eacute;e'></paper-input>
    <iron-ajax
      id='postIdeaAjax'
      url='/api/ideas'
      method='POST'
      body='{{ajaxBody}}'
      handleAs='json'
      on-core-response='onIdeaPostedResponse'>
    </iron-ajax>
    <paper-button colored on-click="goClicked">Envoyer !</paper-button>
  </template>
</dom-module>
<script>
  Polymer( {
    is : 'innovbox-main',
    properties : {
      ajaxBody : ''
    },
    goClicked: function(e) {
      this.ajaxBody = 'text=' + this.$.ideaText.value ;
      this.$.postIdeaAjax.generateRequest() ;
    },
    onIdeaPostedResponse : function(e) {
    }
  }) ;
</script>
